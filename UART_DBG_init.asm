//////////////////////////////////////////////////////////////////////////////
////////////              Create by S.P.S 2015(c)         		 /////////////
//////////////////////////////////////////////////////////////////////////////
////////////                                                     /////////////
////////////    			 SPS UART DEBUGGER                   /////////////
////////////                                                     /////////////
//////////////////////////////////////////////////////////////////////////////
////////////                                                     /////////////
////////////                 Инициализация UART                  /////////////  
////////////                                                     /////////////
//////////////////////////////////////////////////////////////////////////////
////////////                                                     /////////////
////////////     Тут устанавливается частота кварца, скорость    /////////////
////////////     передачи, и прерывания если нужно          	 /////////////
////////////                                                     /////////////
//////////////////////////////////////////////////////////////////////////////
////////////                                                     /////////////
////////////     Расположение: Перед сегментом .DSEG             /////////////
////////////     Код вставки: .include "init_DBG_UART.asm"       /////////////
////////////                                                     /////////////
//////////////////////////////////////////////////////////////////////////////

			.equ XTAL 			= 16000000 				; Тактовая частота в Гц
			.equ baudrate 		= 9600					; Скорость передачи
			.equ bauddivider 	= XTAL/(16*baudrate)-1

			
			OUTI 	UBRRL,low(bauddivider)
			OUTI 	UBRRH,high(bauddivider)
			OUTI 	UCSRA, 0
			OUTI 	UCSRB,(1<<RXEN)|(1<<TXEN)|(1<<RXCIE)|(0<<TXCIE)	; Разрешаем прием-передачу, запрещаем прерывания
		//	OUTI 	UCSRC,(1<<URSEL)|(1<<UCSZ0)|(1<<UCSZ1)			; Хрень какая-то, не помню уже, надо разобратся

/////////////////////////////////////////////////////////////////////////////// 
